<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gg.mapper.SearchMapper">
	<sql id="gganbuColumns">
		mem_id, mem_id2, gganbu_acceptdate, gganbu_requestdate, gganbu_relation
	</sql>

	<insert id="requestGganbu" parameterType="MgmDTO">
		insert into gganbu_table values(#{mem_id}, #{mem_id2}, null, now(), 0)
	</insert>

	<select id="gganbuList" parameterType="String" resultType="MgmDTO">
		select <include refid="gganbuColumns" /> from gganbu_table where mem_id=#{mem_id}
	</select>  
	
	<select id="search" parameterType="String" resultType="MemberDTO">
		select <include refid="gganbuColumns" /> from member_table where mem_id like '% #{search} %' and mem_status='N'
	</select>
</mapper>