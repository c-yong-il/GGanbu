<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Mini homepage</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="/css/profile.css" />
<link rel="stylesheet" href="/css/reset.css" />
<link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-bs4.min.css" rel="stylesheet">
</head>
<body>

<div id="profile-content" >
	<div class="container">
		<div th:if="${session.loginUser.mem_id}==${id} and ${dto == null}" class="btn-insert">
			<a th:attr="onclick=|profileWrite('/mini/profile/profile_write/${id}')|">
				<button id="btn-insert" class="btn btn-primary btn-sm">등록</button>
			</a>	
		</div>
			<form th:if="${#strings.isEmpty(dto)}" id="profileForm">
				<div id="form-none" class="form-group form-control" >
					<p>등록된 프로필이 없습니다</p>
				</div>
			</form>
			
			<form th:if = "${dto != null}" action="/profile/profile_write/{id}" id="profileForm" name="profileForm" method="post">
	    	<div class="container mt-5">        
		        <div class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center">
		            <div class="col mb-5">
		                <div id="profile-width" class="card h-100">
			                <div class="date">
			                	<span>등록일: <span th:text="${dto.profile_date}"></span></span>                
			                	<span>수정일: <span th:text="${dto.profile_updatedate}"></span></span>               
			                </div>
		                    <div class="card-body p-4">
		                        <div class="text-center">
		                            <div class="d-flex justify-content-center small mb-2">
		                                <div class="bi-star-fill" th:utext=${dto.profile_photo}></div>
		                            </div>
		                        </div>
		                    </div>
		                    <div th:if="${dto.profile_content}" class="card-body p-4">
		                        <div class="text-center">
		                            <div class="d-flex justify-content-center small mb-2">
		                                <div class="bi-star-fill" th:utext=${dto.profile_content}></div>
		                            </div>
		                        </div>
		                    </div>
		                </div>
	                    <div id="botton" class="row justify-content-center">
							<a class="btn btn-primary" th:attr="onclick=|profileWrite('/mini/profile/profile_write/${id}')|">수정</a> 
		 					<a class="btn btn-primary" th:attr="onclick=|acyncMovePage('/mini/profile/profile/${id}')|">취소</a> 		                    
	                	</div>
		            </div>
		        </div>
		    </div>
		</form>
	</div>
</div>

</body>
<script src="/js/profile.js"></script>
<script defer src="http://code.jquery.com/jquery-3.2.1.min.js"></script>
<script defer type="text/javascript" src="/js/ajax.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-bs4.min.js"></script>
</html>